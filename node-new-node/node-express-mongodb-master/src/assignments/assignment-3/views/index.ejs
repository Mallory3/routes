<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>HomePage</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <h1>homepage</h1>

  <form id= "form" action="/" method="post" autocomplete="on">
    <fieldset>
      <legend>Join Our Mailing List</legend>
      <label>Name:<span>*</span><br>
      <input id="name" type="text" name="name" placeholder="John Shepp"></label><br>
      <label>Email<span>*</span><br>
      <input type="email" name="email" placeholder="johnshepp@email.com" required></label><br>
      <input type="checkbox" name="adult" value="adult"> I am over 18<br>
      <input id="submit" type="submit" value="submit" onclick="updatehtml()" >
    </fieldset>
  </form>
  <div id="display">Subscribe to my Newsletter</div>
  <div id="demo"></div>
</body>
<script>
document.getElementById("submit").onclick = function() {
  const displayname = document.getElementById("name").value;
  alert("Thankyou " + displayname)
  window.location.href = "/";
};

const button = document.querySelector('#submit');
const paragraph = document.querySelector('#display');
const displayname = document.getElementById("name").value;

button.addEventListener('click', updatehtml);

function updatehtml() {
  if (button.value === 'submit') {
    button.value = 'Thankyou';
    paragraph.textContent = "Thankyou for subscribing to my Newsletter!" + displayname + "You will be redirected to the homepage in 10 seconds. If not redirected, click the link below.";
  document.getElementById("demo").innerHTML = displayname;
  }
  setTimeout(function () {
   window.location.href= '/success';
}, 10000);
}
</script>


</html>